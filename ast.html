<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Extending panprob &mdash; panprob 0.1.3 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=360bc84d"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Exceptions" href="exceptions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            panprob
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="parsers.html">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderers.html">Renderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="postprocessors.html">Postprocessors</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Extending <cite>panprob</cite></a><ul>
<li class="toctree-l2"><a class="reference internal" href="#abstract-syntax-trees">Abstract Syntax Trees</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#abstract-base-classes">Abstract Base Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#panprob.ast.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#panprob.ast.InternalNode"><code class="docutils literal notranslate"><span class="pre">InternalNode</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#panprob.ast.LeafNode"><code class="docutils literal notranslate"><span class="pre">LeafNode</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#concrete-node-types">Concrete Node Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#problems">Problems</a></li>
<li class="toctree-l4"><a class="reference internal" href="#text">Text</a></li>
<li class="toctree-l4"><a class="reference internal" href="#math">Math</a></li>
<li class="toctree-l4"><a class="reference internal" href="#code">Code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#media">Media</a></li>
<li class="toctree-l4"><a class="reference internal" href="#response-areas">Response Areas</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#writing-a-new-parser-or-renderer">Writing a New Parser or Renderer</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">panprob</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Extending <cite>panprob</cite></li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/ast.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="extending-panprob">
<h1>Extending <cite>panprob</cite><a class="headerlink" href="#extending-panprob" title="Link to this heading"></a></h1>
<p>You can extend <cite>panprob</cite> by writing your own problem parser and/or renderer.
This section describes how to do that, starting with a description of the
abstract syntax tree (AST) that <cite>panprob</cite> uses to represent problems
internally. Your parser should take a problem in some format and convert it
into an AST, and your renderer should take an AST and convert it to text.</p>
<section id="abstract-syntax-trees">
<span id="module-panprob.ast"></span><h2>Abstract Syntax Trees<a class="headerlink" href="#abstract-syntax-trees" title="Link to this heading"></a></h2>
<p>Abstractly, a problem is made up of “components” such as images, paragraphs of
text, response areas, and so forth. Representing a problem as an AST of Python
objects does three things:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>It defines a canonical problem format, and consequently determines the
common set of components that any problem format should support.</p></li>
<li><p>It allows us to more easily manipulate problems programmatically.</p></li>
<li><p>It saves us work when converting between one problem format to another.
Instead of writing a separate “transformer” for every combination of source
format and output format, we only need to write a parser for each input
format and a renderer for each output format.</p></li>
</ol>
</div></blockquote>
<p>Each node in the AST represents a component of a problem, such as an image, a
response area, a paragraph of text, and so forth. This module provides Python
types for every component that can be part of a problem: types such as
<cite>Problem</cite>, <cite>Subproblem</cite>, <cite>Paragraph</cite>, <cite>Image</cite>, <cite>MultipleChoices</cite>, and so forth.</p>
<p>Some problem components, like problems, paragraphs, etc., can contain other
problem components. The nodes representing these components in the AST are
therefore “internal nodes”, and they can have children. Other problem
components, like images, inline code, etc., cannot contain other problem
components. The nodes representing these components in the AST are therefore
“leaf nodes”, and they cannot have children.</p>
<p>Problem components that act as containers for other components cannot
necessarily contain every other type of component. For example, an option in
a multiple choice problem cannot contain a subproblem. To enforce this, each
internal node type has a list of the types of nodes that it can contain. When
the AST is constructed, the parser checks to make sure that child nodes are
valid for their parent nodes – if not, an exception is raised.</p>
<section id="abstract-base-classes">
<h3>Abstract Base Classes<a class="headerlink" href="#abstract-base-classes" title="Link to this heading"></a></h3>
<p>Every node in the tree is a derivative of the <a class="reference internal" href="#panprob.ast.Node" title="panprob.ast.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> base class, which provides
some simple functionality that all nodes have in common: checking for equality, and
printing a human-readable representation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><a class="headerlink" href="#panprob.ast.Node" title="Link to this definition"></a></dt>
<dd><p>ABC for a node in the AST.</p>
<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.Node.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Node.__eq__" title="Link to this definition"></a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.Node.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Node.__repr__" title="Link to this definition"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.Node.prettify">
<span class="sig-name descname"><span class="pre">prettify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#panprob.ast.Node.prettify" title="Link to this definition"></a></dt>
<dd><p>Return a pretty-printed string representation of the node.</p>
</dd></dl>

</dd></dl>

<p>Internal nodes derive from <a class="reference internal" href="#panprob.ast.InternalNode" title="panprob.ast.InternalNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InternalNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InternalNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InternalNode" title="Link to this definition"></a></dt>
<dd><p>ABC for an internal node in the AST.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InternalNode.allowed_child_types">
<span class="sig-name descname"><span class="pre">allowed_child_types</span></span><a class="headerlink" href="#panprob.ast.InternalNode.allowed_child_types" title="Link to this definition"></a></dt>
<dd><p>The types of nodes that this node can contain.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of type</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="panprob.ast.InternalNode.children">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">children</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#panprob.ast.InternalNode.children" title="Link to this definition"></a></dt>
<dd><p>The children of this node.</p>
<p>This attribute can be set in the usual way:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">(</span><span class="n">child1</span><span class="p">,</span> <span class="n">child2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<p>When it is set, each child is checked to ensure that it is a valid type for this
node. If it is not, an <a class="reference internal" href="exceptions.html#panprob.exceptions.IllegalChild" title="panprob.exceptions.IllegalChild"><code class="xref py py-class docutils literal notranslate"><span class="pre">panprob.exceptions.IllegalChild</span></code></a>
exception is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.InternalNode.prettify">
<span class="sig-name descname"><span class="pre">prettify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#panprob.ast.InternalNode.prettify" title="Link to this definition"></a></dt>
<dd><p>Return a pretty string representation of the node.</p>
</dd></dl>

</dd></dl>

<p>Leaf nodes derive from <a class="reference internal" href="#panprob.ast.LeafNode" title="panprob.ast.LeafNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">LeafNode</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.LeafNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">LeafNode</span></span><a class="headerlink" href="#panprob.ast.LeafNode" title="Link to this definition"></a></dt>
<dd><p>ABC for a leaf node in the AST.</p>
<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.LeafNode.prettify">
<span class="sig-name descname"><span class="pre">prettify</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.LeafNode.prettify" title="Link to this definition"></a></dt>
<dd><p>Return a pretty string representation of the node.</p>
</dd></dl>

</dd></dl>

</section>
<section id="concrete-node-types">
<h3>Concrete Node Types<a class="headerlink" href="#concrete-node-types" title="Link to this heading"></a></h3>
<p>These node types represent problem components, such as paragraphs, response
areas, images, and so forth.</p>
<section id="problems">
<h4>Problems<a class="headerlink" href="#problems" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Problem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Problem" title="Link to this definition"></a></dt>
<dd><p>A problem.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#panprob.ast.Subproblem" title="panprob.ast.Subproblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subproblem</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.DisplayMath" title="panprob.ast.DisplayMath"><code class="xref py py-class docutils literal notranslate"><span class="pre">DisplayMath</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Code" title="panprob.ast.Code"><code class="xref py py-class docutils literal notranslate"><span class="pre">Code</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.ImageFile" title="panprob.ast.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFile</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Solution" title="panprob.ast.Solution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.MultipleChoice" title="panprob.ast.MultipleChoice"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultipleChoice</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.MultipleSelect" title="panprob.ast.MultipleSelect"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultipleSelect</span></code></a></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">TrueFalse</span></code></p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Subproblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Subproblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Subproblem" title="Link to this definition"></a></dt>
<dd><p>A subproblem within a problem.</p>
<p>Allowed to contain everything that a <a class="reference internal" href="#panprob.ast.Problem" title="panprob.ast.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a> is allowed to
contain, except for other subproblems.</p>
</dd></dl>

</section>
<section id="text">
<h4>Text<a class="headerlink" href="#text" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Paragraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Paragraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Paragraph" title="Link to this definition"></a></dt>
<dd><p>A paragraph of text.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineMath" title="panprob.ast.InlineMath"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineMath</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineCode" title="panprob.ast.InlineCode"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineCode</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineResponseBox" title="panprob.ast.InlineResponseBox"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineResponseBox</span></code></a></p></li>
</ul>
<p>It can be difficult for the parser to know where a paragraph should be
created during parse time. Rather, it is often easier to infer this <em>post
hoc</em>, after the full AST has been built. This can be done by placing text into
<a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> nodes at parse time, and then converting them into
<a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a> nodes with the <a class="reference internal" href="postprocessors.html#panprob.postprocessors.paragraphize" title="panprob.postprocessors.paragraphize"><code class="xref py py-func docutils literal notranslate"><span class="pre">panprob.postprocessors.paragraphize()</span></code></a>
function; see their documentation for more details.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Text">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">italic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Text" title="Link to this definition"></a></dt>
<dd><p>Text, optionally bold and/or italic.</p>
<p>Upon passing the text to the constructor, all newlines are replaced with
spaces. All repeated whitespace is replaced with a single space.</p>
<p>The text cannot be empty, and it cannot only be whitespace. If either of
these conditions are violated, an <code class="xref py py-class docutils literal notranslate"><span class="pre">Error</span></code> will be raised.</p>
<p>A <a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> node is a leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Text.text">
<span class="sig-name descname"><span class="pre">text</span></span><a class="headerlink" href="#panprob.ast.Text.text" title="Link to this definition"></a></dt>
<dd><p>The text.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Text.bold">
<span class="sig-name descname"><span class="pre">bold</span></span><a class="headerlink" href="#panprob.ast.Text.bold" title="Link to this definition"></a></dt>
<dd><p>If the text should be bold.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Text.italic">
<span class="sig-name descname"><span class="pre">italic</span></span><a class="headerlink" href="#panprob.ast.Text.italic" title="Link to this definition"></a></dt>
<dd><p>If the text should be italic.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Blob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Blob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Blob" title="Link to this definition"></a></dt>
<dd><p>A special node type that is used to hold inline content that should be
placed into a <a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a> after the AST has been built. Parsers
should remove all <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> nodes from the AST after parsing and before
returning the AST to the caller. Renderers should not expect to encounter
any <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> nodes in the AST.</p>
<p><a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> and inline content, such as <a class="reference internal" href="#panprob.ast.InlineMath" title="panprob.ast.InlineMath"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineMath</span></code></a>,
<a class="reference internal" href="#panprob.ast.InlineCode" title="panprob.ast.InlineCode"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineCode</span></code></a>, and <a class="reference internal" href="#panprob.ast.InlineResponseBox" title="panprob.ast.InlineResponseBox"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineResponseBox</span></code></a>, cannot appear directly
under, e.g., a <a class="reference internal" href="#panprob.ast.Problem" title="panprob.ast.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a> in an AST; they must instead be contained
within a <a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a>. However, it can be difficult for the parser to
know where a paragraph should be created during parse time. Rather, it is
often easier to infer this <em>post hoc</em>, after the full AST has been built.</p>
<p>The <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> special node type exists to enable such a <em>post hoc</em>
approach to creating paragraphs. Instead of placing text directly into a
<a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a> during parsing, the parser puts one or more pieces of
text into a <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>. Then, after the AST has been created, a
post-processing step is run that converts all <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> nodes into
<a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a> nodes by merging or splitting them as necessary. This
post-processing step is implemented in the
<a class="reference internal" href="postprocessors.html#panprob.postprocessors.paragraphize" title="panprob.postprocessors.paragraphize"><code class="xref py py-func docutils literal notranslate"><span class="pre">panprob.postprocessors.paragraphize()</span></code></a> function.</p>
<p>A <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> node can have one or more children. A forced paragraph
break is indicated by a <a class="reference internal" href="#panprob.ast.ParBreak" title="panprob.ast.ParBreak"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParBreak</span></code></a> node. For example, the string</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span>This is a single paragraph.

And this is another.
</pre></div>
</div>
<p>Can be represented in a <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Blob</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
    <span class="n">Text</span><span class="p">(</span><span class="s2">&quot;This is a single paragraph.&quot;</span><span class="p">),</span>
    <span class="n">ParBreak</span><span class="p">(),</span>
    <span class="n">Text</span><span class="p">(</span><span class="s2">&quot;And this is another.&quot;</span><span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
<p>A <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> can contain the following node types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineMath" title="panprob.ast.InlineMath"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineMath</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineCode" title="panprob.ast.InlineCode"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineCode</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineResponseBox" title="panprob.ast.InlineResponseBox"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineResponseBox</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.ParBreak" title="panprob.ast.ParBreak"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParBreak</span></code></a></p></li>
</ul>
<p class="rubric">Example</p>
<p>For an example of where one might use a <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>, consider the LaTeX
string:</p>
<div class="highlight-latex notranslate"><div class="highlight"><pre><span></span>This is a <span class="k">\textbf</span><span class="nb">{</span>single<span class="nb">}</span> paragraph.

And this is another.
</pre></div>
</div>
<p>A LaTeX parser may parse this in three pieces: 1) a string containing the
text <code class="code docutils literal notranslate"><span class="pre">&quot;This</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">&quot;</span></code>, 2) an inline node containing the
<code class="code docutils literal notranslate"><span class="pre">\textbf{single}</span></code> command, and 3) a string containing the rest:
<code class="code docutils literal notranslate"><span class="pre">&quot;paragraph\n\nAnd</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">another.&quot;</span></code>. In the final AST, we want these three pieces
to be in <em>two</em> paragraphs: the first containing three <a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a>
nodes for <code class="code docutils literal notranslate"><span class="pre">&quot;This</span> <span class="pre">is</span> <span class="pre">a&quot;</span></code>, <code class="code docutils literal notranslate"><span class="pre">&quot;single&quot;</span></code> (in bold), and <code class="code docutils literal notranslate"><span class="pre">&quot;paragraph.&quot;</span></code>,
and the second paragraph consisting of a single <a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> node for
<code class="code docutils literal notranslate"><span class="pre">&quot;And</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">another.&quot;</span></code>.</p>
<p>Instead of inferring these two paragraphs during parsing, the parser
instead might create three <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> nodes: one for each piece of text
produced by the parser. During postprocessing, the blobs will be “exploded”
into their consituents which are then re-formed into paragraphs as necessary.</p>
<p>When placing text into a <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a>, the parser should break the text
into pieces at paragraph breaks. In this example, the first blob will
contain a single child node: a <a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> node containing the text
<code class="code docutils literal notranslate"><span class="pre">&quot;This</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">&quot;</span></code>. The second blob will contain a single child node: a
<a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> node containing the text <code class="code docutils literal notranslate"><span class="pre">&quot;single&quot;</span></code> (in bold). The
third blob will contain two child nodes: a <a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> node containing
the text <code class="code docutils literal notranslate"><span class="pre">&quot;paragraph.&quot;</span></code> and a <a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> node containing the text
<code class="code docutils literal notranslate"><span class="pre">&quot;And</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">another.&quot;</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.ParBreak">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">ParBreak</span></span><a class="headerlink" href="#panprob.ast.ParBreak" title="Link to this definition"></a></dt>
<dd><p>A paragraph break.</p>
<p>This special node is meant to only be used in <a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a> nodes. It
is not meant to be used in the final AST that is returned to the caller.</p>
</dd></dl>

</section>
<section id="math">
<h4>Math<a class="headerlink" href="#math" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.DisplayMath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">DisplayMath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.DisplayMath" title="Link to this definition"></a></dt>
<dd><p>A block of text that should be typeset as display math.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.DisplayMath.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><a class="headerlink" href="#panprob.ast.DisplayMath.latex" title="Link to this definition"></a></dt>
<dd><p>The LaTeX code to typeset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InlineMath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InlineMath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InlineMath" title="Link to this definition"></a></dt>
<dd><p>A block of text that should be typeset as inline math.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InlineMath.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><a class="headerlink" href="#panprob.ast.InlineMath.latex" title="Link to this definition"></a></dt>
<dd><p>The LaTeX code to typeset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="code">
<h4>Code<a class="headerlink" href="#code" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Code">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Code" title="Link to this definition"></a></dt>
<dd><p>A block of code.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Code.language">
<span class="sig-name descname"><span class="pre">language</span></span><a class="headerlink" href="#panprob.ast.Code.language" title="Link to this definition"></a></dt>
<dd><p>The language of the code. This is used to determine the syntax
highlighting.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Code.code">
<span class="sig-name descname"><span class="pre">code</span></span><a class="headerlink" href="#panprob.ast.Code.code" title="Link to this definition"></a></dt>
<dd><p>The code.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InlineCode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InlineCode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InlineCode" title="Link to this definition"></a></dt>
<dd><p>A block of code, displayed inline.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InlineCode.language">
<span class="sig-name descname"><span class="pre">language</span></span><a class="headerlink" href="#panprob.ast.InlineCode.language" title="Link to this definition"></a></dt>
<dd><p>The language of the code. This is used to determine the syntax
highlighting.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InlineCode.code">
<span class="sig-name descname"><span class="pre">code</span></span><a class="headerlink" href="#panprob.ast.InlineCode.code" title="Link to this definition"></a></dt>
<dd><p>The code.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.CodeFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">CodeFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.CodeFile" title="Link to this definition"></a></dt>
<dd><p>A reference to an external code file.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.CodeFile.language">
<span class="sig-name descname"><span class="pre">language</span></span><a class="headerlink" href="#panprob.ast.CodeFile.language" title="Link to this definition"></a></dt>
<dd><p>The language of the code. This is used to determine the syntax
highlighting.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.CodeFile.relative_path">
<span class="sig-name descname"><span class="pre">relative_path</span></span><a class="headerlink" href="#panprob.ast.CodeFile.relative_path" title="Link to this definition"></a></dt>
<dd><p>The relative path to the code file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="media">
<h4>Media<a class="headerlink" href="#media" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.ImageFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">ImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.ImageFile" title="Link to this definition"></a></dt>
<dd><p>A reference to an image file.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.ImageFile.relative_path">
<span class="sig-name descname"><span class="pre">relative_path</span></span><a class="headerlink" href="#panprob.ast.ImageFile.relative_path" title="Link to this definition"></a></dt>
<dd><p>The relative path to the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="response-areas">
<h4>Response Areas<a class="headerlink" href="#response-areas" title="Link to this heading"></a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.MultipleChoice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">MultipleChoice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.MultipleChoice" title="Link to this definition"></a></dt>
<dd><p>A multiple choice area.</p>
<p>Can contain <a class="reference internal" href="#panprob.ast.Choice" title="panprob.ast.Choice"><code class="xref py py-class docutils literal notranslate"><span class="pre">Choice</span></code></a> nodes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.MultipleSelect">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">MultipleSelect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.MultipleSelect" title="Link to this definition"></a></dt>
<dd><p>A select-all-that-apply area in a question.</p>
<p>Can contain <a class="reference internal" href="#panprob.ast.Choice" title="panprob.ast.Choice"><code class="xref py py-class docutils literal notranslate"><span class="pre">Choice</span></code></a> nodes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Choice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Choice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Choice" title="Link to this definition"></a></dt>
<dd><p>A choice within a multiple choice question.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.ImageFile" title="panprob.ast.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFile</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Code" title="panprob.ast.Code"><code class="xref py py-class docutils literal notranslate"><span class="pre">Code</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.CodeFile" title="panprob.ast.CodeFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodeFile</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.DisplayMath" title="panprob.ast.DisplayMath"><code class="xref py py-class docutils literal notranslate"><span class="pre">DisplayMath</span></code></a></p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Choice.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><a class="headerlink" href="#panprob.ast.Choice.correct" title="Link to this definition"></a></dt>
<dd><p>Whether or not this choice is correct.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InlineResponseBox">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InlineResponseBox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InlineResponseBox" title="Link to this definition"></a></dt>
<dd><p>An inline response box.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#panprob.ast.Text" title="panprob.ast.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineMath" title="panprob.ast.InlineMath"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineMath</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.InlineCode" title="panprob.ast.InlineCode"><code class="xref py py-class docutils literal notranslate"><span class="pre">InlineCode</span></code></a></p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Solution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Solution" title="Link to this definition"></a></dt>
<dd><p>A solution to a problem.</p>
<p>Can contain all of the same types as a <a class="reference internal" href="#panprob.ast.Solution" title="panprob.ast.Solution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code></a> node.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#panprob.ast.Blob" title="panprob.ast.Blob"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blob</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Paragraph" title="panprob.ast.Paragraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.Code" title="panprob.ast.Code"><code class="xref py py-class docutils literal notranslate"><span class="pre">Code</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.CodeFile" title="panprob.ast.CodeFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodeFile</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.DisplayMath" title="panprob.ast.DisplayMath"><code class="xref py py-class docutils literal notranslate"><span class="pre">DisplayMath</span></code></a></p></li>
<li><p><a class="reference internal" href="#panprob.ast.ImageFile" title="panprob.ast.ImageFile"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImageFile</span></code></a></p></li>
</ul>
</dd></dl>

</section>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h3>
<p>The below shows an example of creating an AST by hand:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ast</span><span class="o">.</span><span class="n">Problem</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
    <span class="n">ast</span><span class="o">.</span><span class="n">Paragraph</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
        <span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Is &#39;hello world&#39; a common test phrase?&quot;</span><span class="p">),</span>
    <span class="p">]),</span>
    <span class="n">ast</span><span class="o">.</span><span class="n">TrueFalse</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">ast</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
        <span class="n">ast</span><span class="o">.</span><span class="n">Paragraph</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
            <span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Yes, it is. In fact, it is &quot;</span><span class="p">),</span>
            <span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;very&quot;</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
            <span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot; common.&quot;</span><span class="p">),</span>
        <span class="p">]),</span>
    <span class="p">]),</span>
<span class="p">])</span>
</pre></div>
</div>
</section>
</section>
<section id="writing-a-new-parser-or-renderer">
<h2>Writing a New Parser or Renderer<a class="headerlink" href="#writing-a-new-parser-or-renderer" title="Link to this heading"></a></h2>
<p>If you have a new problem format that you want to convert to HTML or one of the
other formats that <cite>panprob</cite> supports, you can write a parser for it. A parser
is simply a function that takes a string as input and returns a
<a class="reference internal" href="#panprob.ast.Problem" title="panprob.ast.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a> object as output. You can take a look at the source of the
existing <a class="reference external" href="https://github.com/eldridgejm/panprob/tree/main/panprob/parsers">parsers on GitHub</a> for inspiration.</p>
<p>If the format you’re writing a parser for is based on a standard markup (such
as LaTeX or Markdown), you can probably use an off-the-shelf parser for that
markup and then convert the resulting AST into a <cite>panprob</cite> AST. For example,
the Gradescope markdown parser uses the <cite>marko</cite> library to parse markdown, and
then converts the resulting AST into a <cite>panprob</cite> AST.</p>
<p>On the other hand, if you’d like to write a renderer for a new format, you can
do that too. A renderer is simply a function that takes a <a class="reference internal" href="#panprob.ast.Problem" title="panprob.ast.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a>
object as input and returns a string as output. You can take a look at the
source of the existing <a class="reference external" href="https://github.com/eldridgejm/panprob/tree/main/panprob/renderers">renderers on GitHub</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="exceptions.html" class="btn btn-neutral float-left" title="Exceptions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Justin Eldridge.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>