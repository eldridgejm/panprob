<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Abstract Syntax Trees - panprob 0.0.0 documentation</title>
    <link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="Renderers" href="renderers.html" />
  <script>
    const isDarkTheme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const sessionTheme = sessionStorage['_theme']
    if (sessionTheme) {
      document.documentElement.classList.add(sessionTheme)
    } else if (isDarkTheme) {
      document.documentElement.classList.add('dark')
    }
  </script><link rel="stylesheet" type="text/css" href="_static/pygments.css?v=aecf457f" />
    <link rel="stylesheet" type="text/css" href="_static/shibuya.css?v=28c32440" />
    <link media="print" rel="stylesheet" type="text/css" href="_static/print.css?v=ee381b95" />
    <style>
:root {
  --sy-f-sys:-apple-system, BlinkMacSystemFont, Segoe UI, Oxygen, Ubuntu, Droid Sans, Helvetica Neue;--sy-f-cjk:PingFang SC, Hiragino Sans GB, Droid Sans Fallback, Microsoft YaHei;--sy-f-heading:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-text:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-mono:Menlo, Monaco, Consolas, "Courier New", monospace;--sy-c-divider:rgba(var(--sy-rc-text), 0.1);--sy-c-divider-weak:rgba(var(--sy-rc-text), 0.05);--sy-c-border:rgba(var(--sy-rc-text), 0.14);--sy-s-banner-height:0rem;--sy-s-navbar-height:56px;--sy-s-offset-top:calc(var(--sy-s-navbar-height) + var(--sy-s-banner-height));--sy-c-link:rgb(var(--sy-rc-theme));--sy-c-link-weak:rgba(var(--sy-rc-theme), 0.86);
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
@media (prefers-color-scheme: light) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
  }
}
@media (prefers-color-scheme: dark) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
  }
}
html.light {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
html.dark {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
}
</style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-heading: Inter, var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Abstract Syntax Trees"/>
<meta name="twitter:card" content="summary"/></head>
<body><div class="document"><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand mr-4" href="index.html">
      
      
      <strong>panprob</strong>
    </a>
    <div class="sy-head-links" id="NavLinks">
      <nav class="sy-head-nav"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form>
        
        
        <div class="sy-head-social flex items-center">
        </div>
      </div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden">
      <button class="js-theme theme-switch flex items-center" data-aria-light="Switch to dark mode" data-aria-dark="Switch to light mode">
        <i class="i-icon theme-icon"></i>
      </button>
      <button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="NavLinks" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="parsers.html">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderers.html">Renderers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Abstract Syntax Trees</a></li>
</ul>

        </div>
      </div>
      
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-icon close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4">
  <div class="localtoc">
    <h3>On this page</h3>
    <ul>
<li><a class="reference internal" href="#abstract-base-classes">Abstract Base Classes</a><ul>
<li><a class="reference internal" href="#panprob.ast.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.Node.__eq__"><code class="docutils literal notranslate"><span class="pre">Node.__eq__()</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Node.__repr__"><code class="docutils literal notranslate"><span class="pre">Node.__repr__()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#panprob.ast.InternalNode"><code class="docutils literal notranslate"><span class="pre">InternalNode</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.InternalNode.children"><code class="docutils literal notranslate"><span class="pre">InternalNode.children</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.InternalNode.allowed_child_types"><code class="docutils literal notranslate"><span class="pre">InternalNode.allowed_child_types</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.InternalNode.add_child"><code class="docutils literal notranslate"><span class="pre">InternalNode.add_child()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#panprob.ast.LeafNode"><code class="docutils literal notranslate"><span class="pre">LeafNode</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#concrete-nodes">Concrete Nodes</a><ul>
<li><a class="reference internal" href="#problems">Problems</a><ul>
<li><a class="reference internal" href="#panprob.ast.Problem"><code class="docutils literal notranslate"><span class="pre">Problem</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Subproblem"><code class="docutils literal notranslate"><span class="pre">Subproblem</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#text">Text</a><ul>
<li><a class="reference internal" href="#panprob.ast.Paragraph"><code class="docutils literal notranslate"><span class="pre">Paragraph</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Text"><code class="docutils literal notranslate"><span class="pre">Text</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.Text.text"><code class="docutils literal notranslate"><span class="pre">Text.text</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Text.bold"><code class="docutils literal notranslate"><span class="pre">Text.bold</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Text.italic"><code class="docutils literal notranslate"><span class="pre">Text.italic</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#math">Math</a><ul>
<li><a class="reference internal" href="#panprob.ast.DisplayMath"><code class="docutils literal notranslate"><span class="pre">DisplayMath</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.DisplayMath.latex"><code class="docutils literal notranslate"><span class="pre">DisplayMath.latex</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#panprob.ast.InlineMath"><code class="docutils literal notranslate"><span class="pre">InlineMath</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.InlineMath.latex"><code class="docutils literal notranslate"><span class="pre">InlineMath.latex</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#code">Code</a><ul>
<li><a class="reference internal" href="#panprob.ast.Code"><code class="docutils literal notranslate"><span class="pre">Code</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.Code.language"><code class="docutils literal notranslate"><span class="pre">Code.language</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Code.code"><code class="docutils literal notranslate"><span class="pre">Code.code</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#panprob.ast.InlineCode"><code class="docutils literal notranslate"><span class="pre">InlineCode</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.InlineCode.language"><code class="docutils literal notranslate"><span class="pre">InlineCode.language</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.InlineCode.code"><code class="docutils literal notranslate"><span class="pre">InlineCode.code</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#panprob.ast.CodeFile"><code class="docutils literal notranslate"><span class="pre">CodeFile</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.CodeFile.language"><code class="docutils literal notranslate"><span class="pre">CodeFile.language</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.CodeFile.relative_path"><code class="docutils literal notranslate"><span class="pre">CodeFile.relative_path</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#media">Media</a><ul>
<li><a class="reference internal" href="#panprob.ast.ImageFile"><code class="docutils literal notranslate"><span class="pre">ImageFile</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.ImageFile.relative_path"><code class="docutils literal notranslate"><span class="pre">ImageFile.relative_path</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#response-areas">Response Areas</a><ul>
<li><a class="reference internal" href="#panprob.ast.MultipleChoice"><code class="docutils literal notranslate"><span class="pre">MultipleChoice</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.MultipleSelect"><code class="docutils literal notranslate"><span class="pre">MultipleSelect</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Choice"><code class="docutils literal notranslate"><span class="pre">Choice</span></code></a><ul>
<li><a class="reference internal" href="#panprob.ast.Choice.correct"><code class="docutils literal notranslate"><span class="pre">Choice.correct</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#panprob.ast.InlineResponseBox"><code class="docutils literal notranslate"><span class="pre">InlineResponseBox</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.Solution"><code class="docutils literal notranslate"><span class="pre">Solution</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#postprocessors">Postprocessors</a><ul>
<li><a class="reference internal" href="#panprob.ast.postprocessors.paragraphize"><code class="docutils literal notranslate"><span class="pre">paragraphize()</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.postprocessors.copy_images"><code class="docutils literal notranslate"><span class="pre">copy_images()</span></code></a></li>
<li><a class="reference internal" href="#panprob.ast.postprocessors.subsume_code"><code class="docutils literal notranslate"><span class="pre">subsume_code()</span></code></a></li>
</ul>
</li>
</ul>

  </div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div>
    </div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
    <div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-icon menu"></i>
      </button>
    </div>
    <ul class="flex-1">
      
      
      <li><a href="index.html">panprob</a><span>/</span></li>
      
      <li><strong>Abstract Syntax Trees</strong></li>
      
      
    </ul>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-icon outdent"></i>
      </button>
    </div>
  </div>
</div>
    <div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="module-panprob.ast">
<span id="abstract-syntax-trees"></span><h1>Abstract Syntax Trees<a class="headerlink" href="#module-panprob.ast" title="Link to this heading">¶</a></h1>
<p>Types for representing a problem as an Abstract Syntax Tree.</p>
<p>Abstractly, a problem is made up of “components” such as images, paragraphs of
text, response areas, and so forth. Representing a problem as an AST of Python
objects does three things:</p>
<blockquote>
<div><p>1) It defines a canonical problem format, and consequently determines the
common set of components that any problem format should support.</p>
<ol class="arabic simple" start="2">
<li><p>It allows us to more easily manipulate problems programmatically.</p></li>
</ol>
<p>3) It saves us work when converting between one problem format to another.
Instead of writing a separate “transformer” for every combination of source
format and output format, we only need to write a parser for each input
format and a renderer for each output format.</p>
</div></blockquote>
<p>Each node in the AST represents a component of a problem, such as an image, a
response area, a paragraph of text, and so forth. This module provides Python
types for every component that can be part of a problem: types such as
<cite>Problem</cite>, <cite>Subproblem</cite>, <cite>Paragraph</cite>, <cite>Image</cite>, <cite>MultipleChoices</cite>, and so forth.</p>
<p>Some problem components, like problems, paragraphs, etc., can contain other
problem components. The nodes representing these components in the AST are
therefore “internal nodes”, and they can have children. Other problem
components, like images, inline code, etc., cannot contain other problem
components. The nodes representing these components in the AST are therefore
“leaf nodes”, and they cannot have children.</p>
<p>Problem components that act as containers for other components cannot
necessarily contain every other type of component. For example, an option in
a multiple choice problem cannot contain a subproblem. To enforce this, each
internal node type has a list of the types of nodes that it can contain. When
the AST is constructed, the parser checks to make sure that child nodes are
valid for their parent nodes – if not, an exception is raised.</p>
<section id="abstract-base-classes">
<h2>Abstract Base Classes<a class="headerlink" href="#abstract-base-classes" title="Link to this heading">¶</a></h2>
<p>Every node in the tree is a derivative of the <a class="reference internal" href="#panprob.ast.Node" title="panprob.ast.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a> base class, which provides
some simple functionality that all nodes have in common: checking for equality, and
printing a human-readable representation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><a class="headerlink" href="#panprob.ast.Node" title="Link to this definition">¶</a></dt>
<dd><p>ABC for a node in the AST.</p>
<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.Node.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Node.__eq__" title="Link to this definition">¶</a></dt>
<dd><p>Determine if this node is equal to the other.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.Node.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Node.__repr__" title="Link to this definition">¶</a></dt>
<dd><p>Human-readable representation of this node.</p>
</dd></dl>

</dd></dl>

<p>Internal nodes derive from <a class="reference internal" href="#panprob.ast.InternalNode" title="panprob.ast.InternalNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">InternalNode</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InternalNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InternalNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InternalNode" title="Link to this definition">¶</a></dt>
<dd><p>ABC for an internal node in the AST.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InternalNode.children">
<span class="sig-name descname"><span class="pre">children</span></span><a class="headerlink" href="#panprob.ast.InternalNode.children" title="Link to this definition">¶</a></dt>
<dd><p>The children of this node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of <a class="reference internal" href="#panprob.ast.Node" title="panprob.ast.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InternalNode.allowed_child_types">
<span class="sig-name descname"><span class="pre">allowed_child_types</span></span><a class="headerlink" href="#panprob.ast.InternalNode.allowed_child_types" title="Link to this definition">¶</a></dt>
<dd><p>The types of nodes that this node can contain.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple of type</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="panprob.ast.InternalNode.add_child">
<span class="sig-name descname"><span class="pre">add_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InternalNode.add_child" title="Link to this definition">¶</a></dt>
<dd><p>Add a child node, checking to see if it’s a valid type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="#panprob.ast.Node" title="panprob.ast.Node"><em>Node</em></a>) – The node to add.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IllegalChild</strong> – If the child is not a valid type for this parent.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>Leaf nodes derive from <a class="reference internal" href="#panprob.ast.LeafNode" title="panprob.ast.LeafNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">LeafNode</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.LeafNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">LeafNode</span></span><a class="headerlink" href="#panprob.ast.LeafNode" title="Link to this definition">¶</a></dt>
<dd><p>ABC for a leaf node in the AST.</p>
</dd></dl>

</section>
<section id="concrete-nodes">
<h2>Concrete Nodes<a class="headerlink" href="#concrete-nodes" title="Link to this heading">¶</a></h2>
<p>These node types represent problem components, such as paragraphs, response
areas, images, and so forth.</p>
<section id="problems">
<h3>Problems<a class="headerlink" href="#problems" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Problem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Problem" title="Link to this definition">¶</a></dt>
<dd><p>A problem.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p>Subproblem</p></li>
<li><p>Code</p></li>
<li><p>DisplayMath</p></li>
<li><p>ImageFile</p></li>
<li><p>MultipleChoice</p></li>
<li><p>MultipleSelect</p></li>
<li><p>TrueFalse</p></li>
<li><p>Solution</p></li>
<li><p>Text</p></li>
<li><p>InlineMath</p></li>
<li><p>InlineCode</p></li>
<li><p>Paragraph</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Subproblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Subproblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Subproblem" title="Link to this definition">¶</a></dt>
<dd><p>A subproblem within a problem.</p>
<p>Allowed to contain everything that a <a class="reference internal" href="#panprob.ast.Problem" title="panprob.ast.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Problem</span></code></a> is allowed to
contain, except for other subproblems.</p>
</dd></dl>

</section>
<section id="text">
<h3>Text<a class="headerlink" href="#text" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Paragraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Paragraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Paragraph" title="Link to this definition">¶</a></dt>
<dd><p>A paragraph of text.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p>Text</p></li>
<li><p>InlineMath</p></li>
<li><p>InlineCode</p></li>
<li><p>ImageFile</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Text">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">italic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Text" title="Link to this definition">¶</a></dt>
<dd><p>Text, optionally bold, and/or italic.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Text.text">
<span class="sig-name descname"><span class="pre">text</span></span><a class="headerlink" href="#panprob.ast.Text.text" title="Link to this definition">¶</a></dt>
<dd><p>The text.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Text.bold">
<span class="sig-name descname"><span class="pre">bold</span></span><a class="headerlink" href="#panprob.ast.Text.bold" title="Link to this definition">¶</a></dt>
<dd><p>If the text should be bold.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Text.italic">
<span class="sig-name descname"><span class="pre">italic</span></span><a class="headerlink" href="#panprob.ast.Text.italic" title="Link to this definition">¶</a></dt>
<dd><p>If the text should be italic.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="math">
<h3>Math<a class="headerlink" href="#math" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.DisplayMath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">DisplayMath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.DisplayMath" title="Link to this definition">¶</a></dt>
<dd><p>A block of text that should be typeset as display math.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.DisplayMath.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><a class="headerlink" href="#panprob.ast.DisplayMath.latex" title="Link to this definition">¶</a></dt>
<dd><p>The LaTeX code to typeset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InlineMath">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InlineMath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InlineMath" title="Link to this definition">¶</a></dt>
<dd><p>A block of text that should be typeset as inline math.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InlineMath.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><a class="headerlink" href="#panprob.ast.InlineMath.latex" title="Link to this definition">¶</a></dt>
<dd><p>The LaTeX code to typeset.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="code">
<h3>Code<a class="headerlink" href="#code" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Code">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Code" title="Link to this definition">¶</a></dt>
<dd><p>A block of code.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Code.language">
<span class="sig-name descname"><span class="pre">language</span></span><a class="headerlink" href="#panprob.ast.Code.language" title="Link to this definition">¶</a></dt>
<dd><p>The language of the code. This is used to determine the syntax
highlighting.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Code.code">
<span class="sig-name descname"><span class="pre">code</span></span><a class="headerlink" href="#panprob.ast.Code.code" title="Link to this definition">¶</a></dt>
<dd><p>The code.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InlineCode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InlineCode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InlineCode" title="Link to this definition">¶</a></dt>
<dd><p>A block of code, displayed inline.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InlineCode.language">
<span class="sig-name descname"><span class="pre">language</span></span><a class="headerlink" href="#panprob.ast.InlineCode.language" title="Link to this definition">¶</a></dt>
<dd><p>The language of the code. This is used to determine the syntax
highlighting.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.InlineCode.code">
<span class="sig-name descname"><span class="pre">code</span></span><a class="headerlink" href="#panprob.ast.InlineCode.code" title="Link to this definition">¶</a></dt>
<dd><p>The code.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.CodeFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">CodeFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">language</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relative_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.CodeFile" title="Link to this definition">¶</a></dt>
<dd><p>A reference to an external code file.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.CodeFile.language">
<span class="sig-name descname"><span class="pre">language</span></span><a class="headerlink" href="#panprob.ast.CodeFile.language" title="Link to this definition">¶</a></dt>
<dd><p>The language of the code. This is used to determine the syntax
highlighting.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.CodeFile.relative_path">
<span class="sig-name descname"><span class="pre">relative_path</span></span><a class="headerlink" href="#panprob.ast.CodeFile.relative_path" title="Link to this definition">¶</a></dt>
<dd><p>The relative path to the code file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="media">
<h3>Media<a class="headerlink" href="#media" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.ImageFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">ImageFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relative_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.ImageFile" title="Link to this definition">¶</a></dt>
<dd><p>A reference to an image file.</p>
<p>A leaf node.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.ImageFile.relative_path">
<span class="sig-name descname"><span class="pre">relative_path</span></span><a class="headerlink" href="#panprob.ast.ImageFile.relative_path" title="Link to this definition">¶</a></dt>
<dd><p>The relative path to the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="response-areas">
<h3>Response Areas<a class="headerlink" href="#response-areas" title="Link to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.MultipleChoice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">MultipleChoice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.MultipleChoice" title="Link to this definition">¶</a></dt>
<dd><p>A multiple choice area.</p>
<p>Can contain Choice nodes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.MultipleSelect">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">MultipleSelect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.MultipleSelect" title="Link to this definition">¶</a></dt>
<dd><p>A select-all-that-apply area in a question.</p>
<p>Can contain Choice nodes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Choice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Choice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Choice" title="Link to this definition">¶</a></dt>
<dd><p>A choice within a multiple choice question.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p>Text</p></li>
<li><p>InlineMath</p></li>
<li><p>DisplayMath</p></li>
<li><p>Code</p></li>
<li><p>InlineCode</p></li>
<li><p>CodeFile</p></li>
<li><p>ImageFile</p></li>
<li><p>Paragraph</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.ast.Choice.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><a class="headerlink" href="#panprob.ast.Choice.correct" title="Link to this definition">¶</a></dt>
<dd><p>Whether or not this choice is correct.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.InlineResponseBox">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">InlineResponseBox</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.InlineResponseBox" title="Link to this definition">¶</a></dt>
<dd><p>An inline response box.</p>
<p>Can contain the following node types:</p>
<ul class="simple">
<li><p>Text</p></li>
<li><p>InlineMath</p></li>
<li><p>InlineCode</p></li>
</ul>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.ast.Solution">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.ast.</span></span><span class="sig-name descname"><span class="pre">Solution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.ast.Solution" title="Link to this definition">¶</a></dt>
<dd><p>A solution to a problem.</p>
<p>Can contain all of the same types as a <a class="reference internal" href="#panprob.ast.Solution" title="panprob.ast.Solution"><code class="xref py py-class docutils literal notranslate"><span class="pre">Solution</span></code></a> node.</p>
</dd></dl>

</section>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<p>The below shows an example of creating an AST by hand. This is not the
recommended way to create an AST, but it is useful for understanding how the
AST works.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">prob</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">Problem</span><span class="p">()</span>
</span><span id="1-2">
</span><span id="1-3"><span class="c1"># create children and add them one-by-one</span>
</span><span id="1-4"><span class="n">para</span> <span class="o">=</span> <span class="n">ast</span><span class="o">.</span><span class="n">Paragraph</span><span class="p">()</span>
</span><span id="1-5"><span class="n">para</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Is &quot;hello world&quot; a common test phrase?&#39;</span><span class="p">))</span>
</span><span id="1-6">
</span><span id="1-7"><span class="n">prob</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">para</span><span class="p">)</span>
</span><span id="1-8"><span class="n">prob</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">TrueFalse</span><span class="p">(</span><span class="s2">&quot;True&quot;</span><span class="p">))</span>
</span><span id="1-9">
</span><span id="1-10"><span class="c1"># create children and add them all at once</span>
</span><span id="1-11"><span class="n">prob</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">ast</span><span class="o">.</span><span class="n">Solution</span><span class="p">(</span><span class="n">children</span><span class="o">=</span><span class="p">[</span>
</span><span id="1-12">    <span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Yes, it is. In fact, it is &quot;</span><span class="p">),</span>
</span><span id="1-13">    <span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;very&quot;</span><span class="p">,</span> <span class="n">bold</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
</span><span id="1-14">    <span class="n">ast</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot; common.&quot;</span><span class="p">),</span>
</span><span id="1-15"><span class="p">]))</span>
</span></pre></div>
</div>
</section>
<section id="postprocessors">
<h2>Postprocessors<a class="headerlink" href="#postprocessors" title="Link to this heading">¶</a></h2>
<p>These “postprocessors” take an AST as input and (typically) modify it in some
way.</p>
<dl class="py function">
<dt class="sig sig-object py" id="panprob.ast.postprocessors.paragraphize">
<span class="sig-prename descclassname"><span class="pre">panprob.ast.postprocessors.</span></span><span class="sig-name descname"><span class="pre">paragraphize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#panprob.ast.InternalNode" title="panprob.ast._types.InternalNode"><span class="pre">InternalNode</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#panprob.ast.InternalNode" title="panprob.ast._types.InternalNode"><span class="pre">InternalNode</span></a></span></span><a class="headerlink" href="#panprob.ast.postprocessors.paragraphize" title="Link to this definition">¶</a></dt>
<dd><p>Creates a new AST with <code class="xref py py-class docutils literal notranslate"><span class="pre">Paragraph</span></code> nodes inserted where appropriate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>node</strong> (<a class="reference internal" href="#panprob.ast.InternalNode" title="panprob.ast.InternalNode"><em>InternalNode</em></a>) – The root node of the AST.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new AST with Paragraph nodes inserted.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#panprob.ast.InternalNode" title="panprob.ast.InternalNode">InternalNode</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In some input formats, like LaTeX, paragraphs are not explicitly marked.
This makes it difficult for parsers to know where paragraphs begin and end,
and thus where to insert Paragraph nodes into the AST. This postprocessor
attempts to do that post hoc.</p>
<p>For example, a Problem node could have the children:</p>
<ul class="simple">
<li><p><cite>Text(“This is the first “)</cite></p></li>
<li><p><cite>Text(“problem”, bold=True)</cite></p></li>
<li><p><cite>Text(” in the assignment.\n\n”)</cite></p></li>
<li><p><cite>Text(“It is worth 10 points.”)</cite></p></li>
<li><p><cite>Solution(…)</cite></p></li>
</ul>
<p>We want to merge the first three nodes into a single paragraph node. The last
Text node is in a separate paragraph (due to the “\n\n”), so we’ll create
a second paragraph node for that. So the result will be</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><span id="1-1">- Paragraph(
</span><span id="1-2">        children=[
</span><span id="1-3">            Text(&quot;This is the first &quot;),
</span><span id="1-4">            Text(&quot;problem&quot;, bold=True),
</span><span id="1-5">            Text(&quot; in the assignment.&quot;),
</span><span id="1-6">            ]
</span><span id="1-7">        )
</span><span id="1-8">- Paragraph(
</span><span id="1-9">        children=[
</span><span id="1-10">            Text(&quot;It is worth 10 points.&quot;),
</span><span id="1-11">            ]
</span><span id="1-12">        )
</span><span id="1-13">- Solution(...)
</span></pre></div>
</div>
<p>This function performs the fix recursively on the tree, producing a new
tree with the same general structure but with paragraph nodes added.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="panprob.ast.postprocessors.copy_images">
<span class="sig-prename descclassname"><span class="pre">panprob.ast.postprocessors.</span></span><span class="sig-name descname"><span class="pre">copy_images</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#panprob.ast.postprocessors.copy_images" title="Link to this definition">¶</a></dt>
<dd><p>Copy the images referenced by ImageFile nodes to the destination directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#panprob.ast.Node" title="panprob.ast.Node"><em>Node</em></a>) – The root node of the AST.</p></li>
<li><p><strong>src</strong> (<em>pathlib.Path</em>) – The directory containing the images to be copied. All relative paths in
the AST are relative to this.</p></li>
<li><p><strong>dest</strong> (<em>pathlib.Path</em>) – The path to the directory where the files should be copied to. All
necessary directories will be created.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="panprob.ast.postprocessors.subsume_code">
<span class="sig-prename descclassname"><span class="pre">panprob.ast.postprocessors.</span></span><span class="sig-name descname"><span class="pre">subsume_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast._types.Node"><span class="pre">Node</span></a></span></span><a class="headerlink" href="#panprob.ast.postprocessors.subsume_code" title="Link to this definition">¶</a></dt>
<dd><p>Replaces all <code class="xref py py-class docutils literal notranslate"><span class="pre">CodeFile</span></code> nodes in the AST with <code class="xref py py-class docutils literal notranslate"><span class="pre">Code</span></code> nodes
by reading the code from disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="#panprob.ast.Node" title="panprob.ast.Node"><em>Node</em></a>) – The node to transform.</p></li>
<li><p><strong>root</strong> (<em>pathlib.Path</em>) – The path to the root directory. All relative paths in the AST are
assumed to be relative to this path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The transformed node with the code subsumed. Does not modify the
original node.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#panprob.ast.Node" title="panprob.ast.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
        
        <div class="navigation flex print:hidden">
  <div class="navigation-prev">
    <a href="renderers.html">
      <i class="i-icon chevron"></i>
      <div class="page-info">
        <span>Previous</span>
        
        <div class="title">Renderers</div>
        
      </div>
    </a>
  </div>
  
</div>
        
      </div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2023, Justin Eldridge</p>
        
        <p>
          Made with
          
          <a href="https://www.sphinx-doc.org/">Sphinx</a> and
          
          <a href="https://shibuya.lepture.com">Shibuya theme</a>.
        </p>
      </div>
      <div class="sy-foot-socials">
      </div>
    </div>
  </div>
</footer></div>
      <script src="_static/documentation_options.js?v=7026087e"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/shibuya.js?v=3e5c8598"></script>
    
</body>
</html>