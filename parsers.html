<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Parsers - panprob 0.0.0 documentation</title>
    <link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Renderers" href="renderers.html" /><link rel="prev" title="Welcome to panprob’s documentation!" href="index.html" />
  <script>
    const isDarkTheme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const sessionTheme = sessionStorage['_theme']
    if (sessionTheme) {
      document.documentElement.classList.add(sessionTheme)
    } else if (isDarkTheme) {
      document.documentElement.classList.add('dark')
    }
  </script><link rel="stylesheet" type="text/css" href="_static/pygments.css?v=aecf457f" />
    <link rel="stylesheet" type="text/css" href="_static/shibuya.css?v=28c32440" />
    <link media="print" rel="stylesheet" type="text/css" href="_static/print.css?v=ee381b95" />
    <style>
:root {
  --sy-f-sys:-apple-system, BlinkMacSystemFont, Segoe UI, Oxygen, Ubuntu, Droid Sans, Helvetica Neue;--sy-f-cjk:PingFang SC, Hiragino Sans GB, Droid Sans Fallback, Microsoft YaHei;--sy-f-heading:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-text:var(--sy-f-sys), var(--sy-f-cjk), sans-serif;--sy-f-mono:Menlo, Monaco, Consolas, "Courier New", monospace;--sy-c-divider:rgba(var(--sy-rc-text), 0.1);--sy-c-divider-weak:rgba(var(--sy-rc-text), 0.05);--sy-c-border:rgba(var(--sy-rc-text), 0.14);--sy-s-banner-height:0rem;--sy-s-navbar-height:56px;--sy-s-offset-top:calc(var(--sy-s-navbar-height) + var(--sy-s-banner-height));--sy-c-link:rgb(var(--sy-rc-theme));--sy-c-link-weak:rgba(var(--sy-rc-theme), 0.86);
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
@media (prefers-color-scheme: light) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
  }
}
@media (prefers-color-scheme: dark) {
  :root {
    --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
  }
}
html.light {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:255, 255, 255;--sy-rc-invert:0, 0, 0;--sy-rc-text:0, 0, 0;--sy-c-bg:#fff;--sy-c-bg-weak:#f9f9f9;--sy-c-text:#374151;--sy-c-text-weak:#6b7280;--sy-c-heading:#111827;--sy-c-bold:#111827;--sy-c-foot-text:#232226;--sy-c-foot-bg:#fafafa;--sy-c-foot-divider:#f0f0f0;
}
html.dark {
  --sy-rc-theme:143, 118, 214;--sy-rc-bg:18, 18, 18;--sy-rc-invert:255, 255, 255;--sy-rc-text:255, 255, 255;--sy-c-bg:#121212;--sy-c-bg-weak:#212833;--sy-c-text:#cedbea;--sy-c-text-weak:#77889f;--sy-c-heading:#ebf0f4;--sy-c-bold:#ebf0f4;--sy-c-foot-text:#eee;--sy-c-foot-bg:#000;--sy-c-foot-divider:#000;
}
</style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-heading: Inter, var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Parsers"/>
<meta name="twitter:card" content="summary"/></head>
<body><div class="document"><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand mr-4" href="index.html">
      
      
      <strong>panprob</strong>
    </a>
    <div class="sy-head-links" id="NavLinks">
      <nav class="sy-head-nav"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form>
        
        
        <div class="sy-head-social flex items-center">
        </div>
      </div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden">
      <button class="js-theme theme-switch flex items-center" data-aria-light="Switch to dark mode" data-aria-dark="Switch to light mode">
        <i class="i-icon theme-icon"></i>
      </button>
      <button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="NavLinks" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderers.html">Renderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ast.html">Abstract Syntax Trees</a></li>
</ul>

        </div>
      </div>
      
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-icon close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4">
  <div class="localtoc">
    <h3>On this page</h3>
    <ul>
<li><a class="reference internal" href="#module-panprob.parsers.dsctex">DSCTeX</a><ul>
<li><a class="reference internal" href="#panprob.parsers.dsctex.parse"><code class="docutils literal notranslate"><span class="pre">parse()</span></code></a></li>
<li><a class="reference internal" href="#custom-commands-and-environments">Custom Commands and Environments</a><ul>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Command"><code class="docutils literal notranslate"><span class="pre">Command</span></code></a><ul>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Command.name"><code class="docutils literal notranslate"><span class="pre">Command.name</span></code></a></li>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Command.args"><code class="docutils literal notranslate"><span class="pre">Command.args</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Environment"><code class="docutils literal notranslate"><span class="pre">Environment</span></code></a><ul>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Environment.name"><code class="docutils literal notranslate"><span class="pre">Environment.name</span></code></a></li>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Environment.args"><code class="docutils literal notranslate"><span class="pre">Environment.args</span></code></a></li>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Environment.contents"><code class="docutils literal notranslate"><span class="pre">Environment.contents</span></code></a></li>
<li><a class="reference internal" href="#panprob.parsers.dsctex.Environment.raw_contents"><code class="docutils literal notranslate"><span class="pre">Environment.raw_contents</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-python-command">Example - <code class="code docutils literal notranslate"><span class="pre">\python</span></code> command</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-panprob.parsers.gsmd">Gradescope Markdown</a><ul>
<li><a class="reference internal" href="#panprob.parsers.gsmd.parse"><code class="docutils literal notranslate"><span class="pre">parse()</span></code></a></li>
</ul>
</li>
</ul>

  </div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div>
    </div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
    <div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-icon menu"></i>
      </button>
    </div>
    <ul class="flex-1">
      
      
      <li><a href="index.html">panprob</a><span>/</span></li>
      
      <li><strong>Parsers</strong></li>
      
      
    </ul>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-icon outdent"></i>
      </button>
    </div>
  </div>
</div>
    <div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="parsers">
<h1>Parsers<a class="headerlink" href="#parsers" title="Link to this heading">¶</a></h1>
<section id="module-panprob.parsers.dsctex">
<span id="dsctex"></span><h2>DSCTeX<a class="headerlink" href="#module-panprob.parsers.dsctex" title="Link to this heading">¶</a></h2>
<p>Parser for problems written in the format defined by <cite>DSCTeX</cite>.</p>
<p>See the <a class="reference external" href="https://eldridgejm.github.io/dsctex">DSCTeX documentation</a> for more
information about the source format.</p>
<p>The main functionality of the module is provided by the <a class="reference internal" href="#panprob.parsers.dsctex.parse" title="panprob.parsers.dsctex.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a> function:</p>
<dl class="py function">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.parse">
<span class="sig-prename descclassname"><span class="pre">panprob.parsers.dsctex.</span></span><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">command_converters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environment_converters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="ast.html#panprob.ast.Problem" title="panprob.ast._types.Problem"><span class="pre">Problem</span></a></span></span><a class="headerlink" href="#panprob.parsers.dsctex.parse" title="Link to this definition">¶</a></dt>
<dd><p>Parses LaTeX source into an <a class="reference internal" href="ast.html#panprob.ast.Problem" title="panprob.ast.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">panprob.ast.Problem</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latex</strong> (<em>str</em>) – The LaTeX source to parse.</p></li>
<li><p><strong>command_converters</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dictionary mapping LaTeX command names to functions that convert them into
panprob AST nodes. See below for the expected signature of these functions.</p></li>
<li><p><strong>environment_converters</strong> (<em>dict</em><em>, </em><em>optional</em>) – A dictionary mapping LaTeX environment names to functions that convert them
into panprob AST nodes. See below for the expected signature of these</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parsed problem.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="ast.html#panprob.ast.Problem" title="panprob.ast.Problem">panprob.ast.Problem</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The default command and environment converters are defined in the
<a class="reference internal" href="#module-panprob.parsers.dsctex" title="panprob.parsers.dsctex"><code class="xref py py-mod docutils literal notranslate"><span class="pre">panprob.parsers.dsctex</span></code></a> module. The user can override these defaults
(or provide their own converters) by passing in their own dictionaries of
converters.</p>
<p>Converter functions should accept two arguments: 1) the LaTeX
<a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a> or <a class="reference internal" href="#panprob.parsers.dsctex.Command" title="panprob.parsers.dsctex.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code></a> node to convert, and 2) a function
that can be used as a callback to recursively convert the children of the
node, if necessary. The converter function should return a panprob AST
node. See the documentation for examples.</p>
<p>The parser is not capable of accurately detecting the paragraph structure
in the source. To add paragraph breaks to the parsed problem post hoc, use
<a class="reference internal" href="ast.html#panprob.ast.postprocessors.paragraphize" title="panprob.ast.postprocessors.paragraphize"><code class="xref py py-func docutils literal notranslate"><span class="pre">panprob.ast.postprocessors.paragraphize()</span></code></a>.</p>
</dd></dl>

<p>The environments understood by the parser are:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">$</span></code> and <code class="code docutils literal notranslate"><span class="pre">$$</span></code> for inline and display math, respectively.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\begin{prob}</span></code> .. <code class="code docutils literal notranslate"><span class="pre">\end{prob}</span></code> environments for problems.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\begin{subprob}</span></code> .. <code class="code docutils literal notranslate"><span class="pre">\end{subprob}</span></code> environments for subproblems.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\begin{minted}</span></code> .. <code class="code docutils literal notranslate"><span class="pre">\end{minted}</span></code> environments for code.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\begin{soln}</span></code> .. <code class="code docutils literal notranslate"><span class="pre">\end{soln}</span></code> environments for solutions.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\begin{choices}</span></code> .. <code class="code docutils literal notranslate"><span class="pre">\end{choices}</span></code> environments for multiple-choice questions.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\begin{choices}[rectangle]</span></code> .. <code class="code docutils literal notranslate"><span class="pre">\end{choices}</span></code> environments for select-all-that-apply questions.</p></li>
</ul>
<p>The commands understood by the parser are:</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">\textbf</span></code> for bold text.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\textit</span></code> for italic text.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\includegraphics</span></code> for images.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\inputminted</span></code> for code.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\mintinline</span></code> for inline code.</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\Tf</span></code> for true/false questions (whose answer is True).</p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">\tF</span></code> for true/false questions (whose answer is False).</p></li>
</ul>
<p>The default command and environment converters are defined in the
<code class="xref py py-mod docutils literal notranslate"><span class="pre">panprob.parsers.dsctex.converters</span></code> module.</p>
<section id="custom-commands-and-environments">
<h3>Custom Commands and Environments<a class="headerlink" href="#custom-commands-and-environments" title="Link to this heading">¶</a></h3>
<p>Because it is common when writing LaTeX to define custom commands and
environments, this parser is designed to be easily extensible. Before extending
it, though, it’s useful to understand a little about how the parser works.</p>
<p>The first step taken by the parser is to convert the LaTeX source into a tree
of <a class="reference internal" href="#panprob.parsers.dsctex.Command" title="panprob.parsers.dsctex.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code></a>, <a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a>, and <cite>str</cite> objects. These objects
represent pieces of the LaTeX document, and are documented below:</p>
<dl class="py class">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Command">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.parsers.dsctex.</span></span><span class="sig-name descname"><span class="pre">Command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment"><span class="pre">Environment</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.parsers.dsctex.Command" title="Link to this definition">¶</a></dt>
<dd><p>Represents a LaTeX command.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Command.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#panprob.parsers.dsctex.Command.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the command.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Command.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#panprob.parsers.dsctex.Command.args" title="Link to this definition">¶</a></dt>
<dd><p>The arguments to the command. Each entry will be an
<a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a> whose name is either “BraceGroup” or
“BracketGroup”, depending on whether the argument was a required
argument or an optional argument, respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment">Environment</a>]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<p>The LaTeX source <code class="code docutils literal notranslate"><span class="pre">textbf{Hello}</span></code> will be parsed into a <a class="reference internal" href="#panprob.parsers.dsctex.Command" title="panprob.parsers.dsctex.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code></a>
object with name “textbf” and args:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="p">[</span>
</span><span id="1-2">    <span class="n">Environment</span><span class="p">(</span>
</span><span id="1-3">        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;BraceGroup&quot;</span><span class="p">,</span>
</span><span id="1-4">        <span class="n">args</span><span class="o">=</span><span class="p">[],</span>
</span><span id="1-5">        <span class="n">contents</span><span class="o">=</span><span class="p">[</span>
</span><span id="1-6">            <span class="s2">&quot;Hello&quot;</span><span class="p">,</span>
</span><span id="1-7">        <span class="p">],</span>
</span><span id="1-8">        <span class="n">raw_contents</span><span class="o">=</span><span class="s2">&quot;Hello&quot;</span>
</span><span id="1-9">    <span class="p">)</span>
</span><span id="1-10"><span class="p">]</span>
</span></pre></div>
</div>
<p>For example, to access the text of the first argument.:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="n">cmd</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">raw_contents</span>
</span></pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Environment">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">panprob.parsers.dsctex.</span></span><span class="sig-name descname"><span class="pre">Environment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment"><span class="pre">Environment</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#panprob.parsers.dsctex.Command" title="panprob.parsers.dsctex.Command"><span class="pre">Command</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment"><span class="pre">Environment</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raw_contents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#panprob.parsers.dsctex.Environment" title="Link to this definition">¶</a></dt>
<dd><p>Represents a LaTeX environment.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Environment.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#panprob.parsers.dsctex.Environment.name" title="Link to this definition">¶</a></dt>
<dd><p>The name of the environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Environment.args">
<span class="sig-name descname"><span class="pre">args</span></span><a class="headerlink" href="#panprob.parsers.dsctex.Environment.args" title="Link to this definition">¶</a></dt>
<dd><p>The arguments to the environment. Each entry will be an Environment whose name
is either “BraceGroup” or “BracketGroup”, depending on whether the argument
was a required argument or an optional argument, respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment">Environment</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Environment.contents">
<span class="sig-name descname"><span class="pre">contents</span></span><a class="headerlink" href="#panprob.parsers.dsctex.Environment.contents" title="Link to this definition">¶</a></dt>
<dd><p>The contents of the environment as a list of parsed LaTeX objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[Union[<a class="reference internal" href="#panprob.parsers.dsctex.Command" title="panprob.parsers.dsctex.Command">Command</a>, <a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment">Environment</a>, str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="panprob.parsers.dsctex.Environment.raw_contents">
<span class="sig-name descname"><span class="pre">raw_contents</span></span><a class="headerlink" href="#panprob.parsers.dsctex.Environment.raw_contents" title="Link to this definition">¶</a></dt>
<dd><p>The contents of the environment as a string of unparsed LaTeX.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p>Once this tree representing the LaTeX document has been constructed, the parser
then walks through it, looking for commands and environments that it knows how
to “convert” to <a class="reference internal" href="ast.html#module-panprob.ast" title="panprob.ast"><code class="xref py py-class docutils literal notranslate"><span class="pre">panprob.ast</span></code></a> nodes. This module defines numerous
“converter” functions for this purpose, but you can define your own, overriding
or extending the defaults.</p>
<p>In short, a “converter” is a function that takes two arguments:</p>
<ol class="arabic simple">
<li><p>a <a class="reference internal" href="#panprob.parsers.dsctex.Command" title="panprob.parsers.dsctex.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code></a> or <a class="reference internal" href="#panprob.parsers.dsctex.Environment" title="panprob.parsers.dsctex.Environment"><code class="xref py py-class docutils literal notranslate"><span class="pre">Environment</span></code></a> object.</p></li>
<li><p>a callback function that can be used to convert the children of the node</p></li>
</ol>
<p>It should return a node type from <a class="reference internal" href="ast.html#module-panprob.ast" title="panprob.ast"><code class="xref py py-class docutils literal notranslate"><span class="pre">panprob.ast</span></code></a>.</p>
<section id="example-python-command">
<h4>Example - <code class="code docutils literal notranslate"><span class="pre">\python</span></code> command<a class="headerlink" href="#example-python-command" title="Link to this heading">¶</a></h4>
<p>Suppose your LaTeX source uses a custom command called <code class="code docutils literal notranslate"><span class="pre">\python</span></code> to
represent inline Python code. This is not one of the default converters, but
you can define a converter function to convert this command to a
<a class="reference internal" href="ast.html#panprob.ast.InlineCode" title="panprob.ast.InlineCode"><code class="xref py py-class docutils literal notranslate"><span class="pre">panprob.ast.InlineCode</span></code></a> node and pass it to <a class="reference internal" href="#panprob.parsers.dsctex.parse" title="panprob.parsers.dsctex.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span id="1-1"><span class="kn">from</span> <span class="nn">panprob.ast</span> <span class="kn">import</span> <span class="n">InlineCode</span>
</span><span id="1-2">
</span><span id="1-3"><span class="k">def</span> <span class="nf">convert_python</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">children</span><span class="p">):</span>
</span><span id="1-4">    <span class="k">return</span> <span class="n">ast</span><span class="o">.</span><span class="n">InlineCode</span><span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;this&quot;</span><span class="p">)</span>
</span><span id="1-5">
</span><span id="1-6"><span class="n">latex</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;\python{x = 3 + 4}&quot;</span>
</span><span id="1-7">
</span><span id="1-8"><span class="n">tree</span> <span class="o">=</span> <span class="n">parse</span><span class="p">(</span><span class="n">latex</span><span class="p">,</span> <span class="n">command_converters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;python&quot;</span><span class="p">:</span> <span class="n">convert_python</span><span class="p">})</span>
</span></pre></div>
</div>
</section>
</section>
</section>
<section id="module-panprob.parsers.gsmd">
<span id="gradescope-markdown"></span><h2>Gradescope Markdown<a class="headerlink" href="#module-panprob.parsers.gsmd" title="Link to this heading">¶</a></h2>
<p>Parses problems written in Gradescope-flavored Markdown.</p>
<p>Gradescope-flavored Markdown is an extension of Markdown used by Gradescope for
writing online quizzes. It provides support for LaTeX math, code blocks, and
various response area types, such as multiple choices, multiple selects, and
short answer boxes.</p>
<p>For details about this format, see the <a class="reference external" href="https://help.gradescope.com/article/gm5cmcz19k-instructor-assignment-online">Gradescope documentation</a>.</p>
<p>The main functionality of the module is provided by the <a class="reference internal" href="#panprob.parsers.gsmd.parse" title="panprob.parsers.gsmd.parse"><code class="xref py py-func docutils literal notranslate"><span class="pre">parse()</span></code></a> function:</p>
<dl class="py function">
<dt class="sig sig-object py" id="panprob.parsers.gsmd.parse">
<span class="sig-prename descclassname"><span class="pre">panprob.parsers.gsmd.</span></span><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="ast.html#panprob.ast.Problem" title="panprob.ast._types.Problem"><span class="pre">Problem</span></a></span></span><a class="headerlink" href="#panprob.parsers.gsmd.parse" title="Link to this definition">¶</a></dt>
<dd><p>Parses Gradescope Markdown into a <a class="reference internal" href="ast.html#panprob.ast.Problem" title="panprob.ast.Problem"><code class="xref py py-class docutils literal notranslate"><span class="pre">panprob.ast.Problem</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>md</strong> (<em>str</em>) – The Gradescope Markdown to parse.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The parsed problem.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="ast.html#panprob.ast.Problem" title="panprob.ast.Problem">ast.Problem</a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
        
        <div class="navigation flex print:hidden">
  <div class="navigation-prev">
    <a href="index.html">
      <i class="i-icon chevron"></i>
      <div class="page-info">
        <span>Previous</span>
        
        <div class="title">Home</div>
        
      </div>
    </a>
  </div>
  <div class="navigation-next">
    <a href="renderers.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Renderers</div>
      </div>
      <i class="i-icon chevron"></i>
    </a>
  </div>
</div>
        
      </div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2023, Justin Eldridge</p>
        
        <p>
          Made with
          
          <a href="https://www.sphinx-doc.org/">Sphinx</a> and
          
          <a href="https://shibuya.lepture.com">Shibuya theme</a>.
        </p>
      </div>
      <div class="sy-foot-socials">
      </div>
    </div>
  </div>
</footer></div>
      <script src="_static/documentation_options.js?v=7026087e"></script>
      <script src="_static/doctools.js?v=888ff710"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/shibuya.js?v=3e5c8598"></script>
    
</body>
</html>